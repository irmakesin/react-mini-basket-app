{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Downloads\\\\ikinci-proje\\\\src\\\\contexts\\\\BasketContext.tsx\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const BasketContext = /*#__PURE__*/React.createContext({\n  state: [],\n  dispatch: () => {}\n});\n\nconst basketReducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD\":\n      const itemForCreate = state.find(item => {\n        var _action$item;\n\n        return item.id === ((_action$item = action.item) === null || _action$item === void 0 ? void 0 : _action$item.id);\n      });\n\n      if (itemForCreate) {\n        return state.map(item => {\n          var _action$item2;\n\n          return item.id === ((_action$item2 = action.item) === null || _action$item2 === void 0 ? void 0 : _action$item2.id) ? { ...item,\n            quantity: item.quantity + 1\n          } : item;\n        });\n      }\n\n      return [...state, action.item];\n\n    case \"REMOVE\":\n      const itemForRemove = state.find(item => {\n        var _action$item3;\n\n        return item.id === ((_action$item3 = action.item) === null || _action$item3 === void 0 ? void 0 : _action$item3.id);\n      });\n\n      if ((itemForRemove === null || itemForRemove === void 0 ? void 0 : itemForRemove.quantity) != 1 && !action.directRemove) {\n        return state.map(item => {\n          var _action$item4;\n\n          return item.id === ((_action$item4 = action.item) === null || _action$item4 === void 0 ? void 0 : _action$item4.id) ? { ...item,\n            quantity: item.quantity - 1\n          } : item;\n        });\n      }\n\n      return state.filter(basketItem => {\n        var _action$item5;\n\n        return basketItem.id !== ((_action$item5 = action.item) === null || _action$item5 === void 0 ? void 0 : _action$item5.id);\n      });\n\n    case \"SET_QUANTITY\":\n      return state.map(item => item.id === action.id ? { ...item,\n        quantity: action === null || action === void 0 ? void 0 : action.quantity\n      } : item);\n\n    case \"CLEAR_BASKET\":\n      return [];\n\n    default:\n      return state;\n  }\n};\n\nexport const BasketProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = React.useReducer(basketReducer, []);\n  return /*#__PURE__*/_jsxDEV(BasketContext.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BasketProvider, \"8pXRrr8ws9JzhvliRQlKIDFcnHU=\");\n\n_c = BasketProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"BasketProvider\");","map":{"version":3,"names":["React","BasketContext","createContext","state","dispatch","basketReducer","action","type","itemForCreate","find","item","id","map","quantity","itemForRemove","directRemove","filter","basketItem","BasketProvider","children","useReducer"],"sources":["C:/Users/DELL/Downloads/ikinci-proje/src/contexts/BasketContext.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { IBasketItem } from \"../types/IBasket\";\r\nimport { IBasketAction } from \"../types/IBasketAction\";\r\n\r\ninterface IContext {\r\n  readonly state: IBasketItem[];\r\n  readonly dispatch: React.Dispatch<IBasketAction>;\r\n}\r\n\r\nexport const BasketContext = React.createContext<IContext>({\r\n  state: [],\r\n  dispatch: () => {},\r\n});\r\n\r\nconst basketReducer = (\r\n  state: IBasketItem[],\r\n  action: IBasketAction\r\n): IBasketItem[] => {\r\n  switch (action.type) {\r\n    case \"ADD\":\r\n      const itemForCreate = state.find((item) => item.id === action.item?.id);\r\n      if (itemForCreate) {\r\n        return state.map((item) =>\r\n          item.id === action.item?.id\r\n            ? { ...item, quantity: item.quantity + 1 }\r\n            : item\r\n        );\r\n      }\r\n      return [...state, action.item!];\r\n\r\n    case \"REMOVE\":\r\n      const itemForRemove = state.find((item) => item.id === action.item?.id);\r\n      if (itemForRemove?.quantity != 1 && !action.directRemove) {\r\n        return state.map((item) =>\r\n          item.id === action.item?.id\r\n            ? { ...item, quantity: item.quantity - 1 }\r\n            : item\r\n        );\r\n      }\r\n      return state.filter((basketItem) => basketItem.id !== action.item?.id);\r\n\r\n    case \"SET_QUANTITY\":\r\n      return state.map((item) =>\r\n        item.id === action.id ? { ...item, quantity: action?.quantity! } : item\r\n      );\r\n\r\n    case \"CLEAR_BASKET\":\r\n      return [];\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const BasketProvider = ({ children }: { children: React.ReactNode }) => {\r\n  const [state, dispatch] = React.useReducer(basketReducer, []);\r\n\r\n  return (\r\n    <BasketContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </BasketContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;AASA,OAAO,MAAMC,aAAa,gBAAGD,KAAK,CAACE,aAAN,CAA8B;EACzDC,KAAK,EAAE,EADkD;EAEzDC,QAAQ,EAAE,MAAM,CAAE;AAFuC,CAA9B,CAAtB;;AAKP,MAAMC,aAAa,GAAG,CACpBF,KADoB,EAEpBG,MAFoB,KAGF;EAClB,QAAQA,MAAM,CAACC,IAAf;IACE,KAAK,KAAL;MACE,MAAMC,aAAa,GAAGL,KAAK,CAACM,IAAN,CAAYC,IAAD;QAAA;;QAAA,OAAUA,IAAI,CAACC,EAAL,sBAAYL,MAAM,CAACI,IAAnB,iDAAY,aAAaC,EAAzB,CAAV;MAAA,CAAX,CAAtB;;MACA,IAAIH,aAAJ,EAAmB;QACjB,OAAOL,KAAK,CAACS,GAAN,CAAWF,IAAD;UAAA;;UAAA,OACfA,IAAI,CAACC,EAAL,uBAAYL,MAAM,CAACI,IAAnB,kDAAY,cAAaC,EAAzB,IACI,EAAE,GAAGD,IAAL;YAAWG,QAAQ,EAAEH,IAAI,CAACG,QAAL,GAAgB;UAArC,CADJ,GAEIH,IAHW;QAAA,CAAV,CAAP;MAKD;;MACD,OAAO,CAAC,GAAGP,KAAJ,EAAWG,MAAM,CAACI,IAAlB,CAAP;;IAEF,KAAK,QAAL;MACE,MAAMI,aAAa,GAAGX,KAAK,CAACM,IAAN,CAAYC,IAAD;QAAA;;QAAA,OAAUA,IAAI,CAACC,EAAL,uBAAYL,MAAM,CAACI,IAAnB,kDAAY,cAAaC,EAAzB,CAAV;MAAA,CAAX,CAAtB;;MACA,IAAI,CAAAG,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAED,QAAf,KAA2B,CAA3B,IAAgC,CAACP,MAAM,CAACS,YAA5C,EAA0D;QACxD,OAAOZ,KAAK,CAACS,GAAN,CAAWF,IAAD;UAAA;;UAAA,OACfA,IAAI,CAACC,EAAL,uBAAYL,MAAM,CAACI,IAAnB,kDAAY,cAAaC,EAAzB,IACI,EAAE,GAAGD,IAAL;YAAWG,QAAQ,EAAEH,IAAI,CAACG,QAAL,GAAgB;UAArC,CADJ,GAEIH,IAHW;QAAA,CAAV,CAAP;MAKD;;MACD,OAAOP,KAAK,CAACa,MAAN,CAAcC,UAAD;QAAA;;QAAA,OAAgBA,UAAU,CAACN,EAAX,uBAAkBL,MAAM,CAACI,IAAzB,kDAAkB,cAAaC,EAA/B,CAAhB;MAAA,CAAb,CAAP;;IAEF,KAAK,cAAL;MACE,OAAOR,KAAK,CAACS,GAAN,CAAWF,IAAD,IACfA,IAAI,CAACC,EAAL,KAAYL,MAAM,CAACK,EAAnB,GAAwB,EAAE,GAAGD,IAAL;QAAWG,QAAQ,EAAEP,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEO;MAA7B,CAAxB,GAAmEH,IAD9D,CAAP;;IAIF,KAAK,cAAL;MACE,OAAO,EAAP;;IAEF;MACE,OAAOP,KAAP;EAhCJ;AAkCD,CAtCD;;AAwCA,OAAO,MAAMe,cAAc,GAAG,QAAiD;EAAA;;EAAA,IAAhD;IAAEC;EAAF,CAAgD;EAC7E,MAAM,CAAChB,KAAD,EAAQC,QAAR,IAAoBJ,KAAK,CAACoB,UAAN,CAAiBf,aAAjB,EAAgC,EAAhC,CAA1B;EAEA,oBACE,QAAC,aAAD,CAAe,QAAf;IAAwB,KAAK,EAAE;MAAEF,KAAF;MAASC;IAAT,CAA/B;IAAA,UACGe;EADH;IAAA;IAAA;IAAA;EAAA,QADF;AAKD,CARM;;GAAMD,c;;KAAAA,c"},"metadata":{},"sourceType":"module"}